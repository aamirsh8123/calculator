<!-- templates/calculator/material_list.html -->

{% extends 'base.html' %}

{% block title %}Material List{% endblock %}

{% block content %}
<div class="row">
    <div class="col-6">
        <h2>Material List</h2>
    </div>
    <div class="col-6" style="padding-top: 10px;">
      <a href="{% url 'create_item' %}">
        <button class="btn btn-sm btn-primary" style="float: right;">Add</button>
      </a>
        
    </div>
</div>
<div class="jumbotron my-2 py-0">
  <table class="table table-striped">
    <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Item Name</th>
            <th scope="col">Material Group</th>
            <th scope="col">Product Hierarchy(a)</th>
            <th scope="col">Product Hierarchy(b)</th>
            <th scope="col">Item Type</th>
            <th scope="col">Action</th>

        </tr>
    </thead>
    <tbody>
        {% for item in items %}
            <tr>
                <th scope="row">{{ item.id }}</th>
                <td>{{ item.item_name }}</td>
                <td>{{ item.material_group }}</td>
                <td>{{ item.product_hierarchy_a }}</td>
                <td>{{ item.product_hierarchy_b }}</td>
                <td>{{ item.item_type_choice }}</td>
                <td>
                    <a href="{% url 'material_detail' item.id %}"><button class="btn btn-sm btn-primary">View</button></a>
                </td>
            </tr>
        {% endfor %}
    </tbody>
</table>

</div>

    {% if is_paginated %}
    <nav aria-label="Page navigation">
      <ul class="pagination">
        {% if page_obj.has_previous %}
          <li class="page-item">
            <a class="page-link" href="?page=1" aria-label="First">
              <span aria-hidden="true">««</span>
            </a>
          </li>
          <li class="page-item">
            <a class="page-link" href="?page={{ page_obj.previous_page_number }}" aria-label="Previous">
              <span aria-hidden="true">«</span>
            </a>
          </li>
        {% endif %}
  
        {% for num in paginator.page_range %}
          {% if num == page_obj.number %}
            <li class="page-item active">
              <a class="page-link" href="?page={{ num }}">{{ num }}</a>
            </li>
          {% elif num <= 3 or num > paginator.num_pages|add:'-3' %}
            <li class="page-item">
              <a class="page-link" href="?page={{ num }}">{{ num }}</a>
            </li>
          {% elif num == 4 or num == paginator.num_pages|add:'-2' %}
            <li class="page-item disabled"><span class="page-link">...</span></li>
          {% elif page_obj.number > 3 and num >= page_obj.number|add:'-2' and num <= page_obj.number|add:'2' %}
            <li class="page-item">
              <a class="page-link" href="?page={{ num }}">{{ num }}</a>
            </li>
          {% endif %}
        {% endfor %}
  
        {% if page_obj.has_next %}
          <li class="page-item">
            <a class="page-link" href="?page={{ page_obj.next_page_number }}" aria-label="Next">
              <span aria-hidden="true">»</span>
            </a>
          </li>
          <li class="page-item">
            <a class="page-link" href="?page={{ paginator.num_pages }}" aria-label="Last">
              <span aria-hidden="true">»»</span>
            </a>
          </li>
        {% endif %}
      </ul>
    </nav>
  {% endif %}
  
  
  
  


{% endblock %}
